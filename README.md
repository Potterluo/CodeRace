# CodeRace
åœ¨çº¿åˆ¤é¢˜ç³»ç»Ÿæ˜¯ä¸€ä¸ªé¢å‘ç¼–ç¨‹çˆ±å¥½è€…å’Œä¸“ä¸šäººå£«çš„ä»£ç æµ‹è¯•å¹³å°ï¼Œæ”¯æŒå¤šè¯­è¨€ç¼–ç¨‹ç¯å¢ƒï¼Œæä¾›å³æ—¶åé¦ˆå’Œä»£ç è¯„ä¼°æœåŠ¡ã€‚æ—¨åœ¨ä¿ƒè¿›ç¼–ç¨‹æ•™è‚²å’ŒæŠ€èƒ½æå‡ï¼ŒåŒæ—¶æ­å»ºäº¤æµä¸å­¦ä¹ çš„å¹³å°ã€‚

é¡¹ç›®å‰ç«¯æ¥æº: [WAICoder](https://github.com/aaaaa-pi/WAICoder)

## é¡¹ç›®å®Œæˆæƒ…å†µ

- [ ] C++ï¼ˆï¼Ÿï¼‰ï¼Œpythonï¼ŒGolangåˆ¤é¢˜æœºå®ç°
- [ ] æ ¸å¿ƒä»£ç æ¨¡å¼æ‹¼æ¥
- [ ] ä¼ ç»Ÿè¾“å…¥æ¨¡å¼ä»£ç ä¿®æ”¹
- [ ] ç”¨æˆ·é¢˜ç›®å®ŒæˆçŠ¶æ€
- [ ] ç®¡ç†å‘˜ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- [ ] æ’è¡Œæ¦œ
- [ ] AIé¢˜è§£åŠä»£ç ä¼˜åŒ–å»ºè®®
- [ ] å‘å¸ƒè¯„è®º
- [ ] é¢˜è§£æŸ¥çœ‹
- [ ] è¯„è®ºä¿¡æ¯æŸ¥çœ‹ï¼ˆmarkdownï¼‰
- [x] æœªç™»å½•é¢˜ç›®é¢„è§ˆ
- [x] éšæœºä¸€é¢˜æ¥å£å®ç°
- [x] Headerç”¨æˆ·ä¿¡æ¯è·å–
- [x] ä¸»é¢˜åˆ‡æ¢æŒ‰é’®é‡æ–°å°è£…
- [x] é¢˜ç›®çŠ¶æ€ä¿¡æ¯ä¼˜åŒ–
- [x] æ·»åŠ æŸ¥è¯¢é¢˜ç›®

- [x] ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹

- [x] ç™»å½•æ³¨å†ŒåŠŸèƒ½

# é¡¹ç›®éœ€æ±‚åˆ†æ



# å¼€å‘æ—¥å¿—

## æ•°æ®åº“è¡¨é¡¹è®¾è®¡





 # é‡ç‚¹åŠŸèƒ½å®ç°

## 1. å¤šæ¨¡å¼å…¼å®¹

- **ACM æ¨¡å¼**ï¼šä¼ ç»Ÿçš„è¾“å…¥è¾“å‡ºæ¨¡å¼ï¼Œè¦æ±‚é€‰æ‰‹ç¼–å†™å®Œæ•´çš„ç¨‹åºï¼Œè¯»å–æ ‡å‡†è¾“å…¥ï¼ˆå¦‚ `System.in` æˆ– `Scanner`ï¼‰ï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆå¦‚ `System.out`ï¼‰ã€‚

- **æ ¸å¿ƒä»£ç æ¨¡å¼**ï¼šé€‰æ‰‹åªéœ€å®ç°æ ¸å¿ƒé€»è¾‘ï¼Œä¾‹å¦‚ç¼–å†™ä¸€ä¸ªç‰¹å®šçš„å‡½æ•°ï¼Œè¾“å…¥å‚æ•°é€šè¿‡æ–¹æ³•å‚æ•°ä¼ é€’ï¼Œè¾“å‡ºé€šè¿‡è¿”å›å€¼ç»™å‡ºã€‚

  é—®é¢˜ï¼šæ ¸å¿ƒä»£ç æ–¹ä¾¿åˆ·é¢˜ï¼Œå¯¹äºä¸€äº›æ¨¡æ‹Ÿæ“ä½œï¼Œå¼ºè¾“å…¥è¦æ±‚ï¼Œæ ¼å¼åŒ–è¾“å‡ºç­‰æ–¹é¢è¡¨ç°æ¬ ä½³ã€‚è€ŒACMæ¨¡å¼å¯¹äºé“¾è¡¨ã€æ ‘ç­‰ç¨å¾®å¤æ‚çš„æ•°æ®ç»“æ„æ”¯æŒä¸æ˜¯å¾ˆå¥½ã€‚

æ€è€ƒï¼šå¯¹äºåŒä¸€é¢˜ç›®çš„å¤šæ¨¡å¼å…¼å®¹æ˜¯ä¸ç°å®çš„ã€‚æœ‰çš„é¢˜ç›®ä¼šåœ¨ä¸€ä¸ªè¾“å…¥ç¤ºä¾‹ä¸­ç»™å‡ºå¤šè½®æ•°æ®ï¼Œè¿™ç§æƒ…å†µæ˜¾ç„¶ä¸é€‚åˆæ ¸å¿ƒä»£ç æ¨¡å¼ã€‚

è§£å†³æ€è·¯ï¼š1. é™åˆ¶é¢˜ç›®ï¼Œè§„å®šé¢˜ç›®å°½é‡æŒ‰ç…§æ ¸å¿ƒä»£ç æ¨¡å¼çš„æ€è·¯ã€‚ï¼ˆä¸å¯å–ï¼‰

2. ğŸŒŸæ¯é“é¢˜ç›®ç”±åˆ›å»ºè€…é€‰æ‹©ä½¿ç”¨é‚£ç§æ¨¡å¼ã€‚ï¼ˆå¸¸ç”¨ï¼Œé€‰æ‹©ï¼‰ï¼ˆACMï¼Œæ ¸å¿ƒï¼Œé€šç”¨ï¼‰
3. åªä¸ºæ ¸å¿ƒä»£ç æ¨¡å¼æ·»åŠ è¾“å…¥é€»è¾‘ï¼Œç”¨åšé¢˜ç”¨æˆ·è‡ªè¡Œæ‰“å°è¾“å‡ºã€‚

å…·ä½“æ–¹æ¡ˆï¼š

å¯ä»¥ä½¿ç”¨ä¸€ä¸ªåŒ…è£…å™¨ï¼ˆwrapperï¼‰æ¥è°ƒç”¨é€‰æ‰‹çš„æ ¸å¿ƒå‡½æ•°ï¼Œå¹¶å°†æ•°æ®ä»æ ‡å‡†è¾“å…¥è½¬æ¢ä¸ºå‡½æ•°å‚æ•°ã€‚

å¯¹äºä¸¤æ•°ä¹‹å’Œé—®é¢˜ï¼ŒACMæ¨¡å¼çš„ç”¨æˆ·ä»£ç å¦‚ä¸‹ã€‚

```java
public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int a = scanner.nextInt();
        int b = scanner.nextInt();
        System.out.println(a + b);
    }
}
```

æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š

```java
public class Solution {
    public void add(int a, int b) {
       return a + b;
    }
}
```

å®ç°æµç¨‹ï¼š

**è§£æè¾“å…¥**ï¼šå¯¹äº ACM æ¨¡å¼ï¼Œç›´æ¥ä»æ ‡å‡†è¾“å…¥è¯»å–ï¼›å¯¹äºæ ¸å¿ƒä»£ç æ¨¡å¼ï¼Œä»è¾“å…¥æ•°æ®ä¸­è§£æå‡½æ•°å‚æ•°ã€‚

**æ‰§è¡Œé€‰æ‰‹ä»£ç **ï¼š

- **ACM æ¨¡å¼**ï¼šç›´æ¥è¿è¡Œé€‰æ‰‹æäº¤çš„ä»£ç ã€‚
- **æ ¸å¿ƒä»£ç æ¨¡å¼**ï¼šè¿è¡ŒåŒ…è£…å™¨ä»£ç ï¼ŒåŒ…è£…å™¨ä»£ç å†…éƒ¨è°ƒç”¨é€‰æ‰‹çš„æ ¸å¿ƒé€»è¾‘å‡½æ•°ã€‚

**æ¯”å¯¹è¾“å‡º**ï¼šæ— è®ºå“ªç§æ¨¡å¼ï¼Œæœ€ç»ˆçš„è¾“å‡ºéƒ½åº”ä¸æ ‡å‡†è¾“å‡ºæ ¼å¼è¿›è¡Œå¯¹æ¯”ï¼Œä»¥åˆ¤æ–­ç­”æ¡ˆæ˜¯å¦æ­£ç¡®ã€‚



ä¸ºäº†å¤„ç† ACM æ¨¡å¼ä¸­çš„ç”¨æˆ·è‡ªå®šä¹‰å˜é‡å’Œæ–¹æ³•ï¼Œæˆ‘ä»¬è¦ç¡®ä¿åŒ…è£…å™¨ä»£ç ä¸ä¼šä¸ç”¨æˆ·ä»£ç å‘ç”Ÿå†²çªã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…·ä½“çš„ç­–ç•¥ï¼š

- **ä½¿ç”¨ç‰¹å®šçš„å‘½åç©ºé—´**ï¼šåŒ…è£…å™¨ç±»ä½¿ç”¨ä¸€ä¸ªä¸ç”¨æˆ·ä»£ç ä¸åŒçš„ç±»åï¼ˆå¦‚ `Main`ï¼‰ï¼Œè€Œä¸æ˜¯ä¸ç”¨æˆ·çš„ `Solution` ç±»é‡åã€‚
- **æ ¸å¿ƒå‡½æ•°è°ƒç”¨éš”ç¦»**ï¼šåŒ…è£…å™¨åªè´Ÿè´£è¯»å–è¾“å…¥å’Œè°ƒç”¨æ ¸å¿ƒé€»è¾‘å‡½æ•°ï¼ˆå¦‚ `add`ï¼‰ï¼Œè€Œä¸è®¿é—®ç”¨æˆ·å®šä¹‰çš„ä»»ä½•å…¶ä»–å˜é‡æˆ–æ–¹æ³•ã€‚åªè°ƒç”¨é¢„å®šä¹‰ç­¾åçš„æ–¹æ³•ã€‚
- **é™å®šæ ¸å¿ƒä»£ç å®ç°èŒƒå›´**ï¼šOJ ç³»ç»Ÿå¯ä»¥é™åˆ¶ç”¨æˆ·åœ¨æ ¸å¿ƒä»£ç æ¨¡å¼ä¸‹åªèƒ½ä¿®æ”¹ `Solution` ç±»åŠå…¶æ–¹æ³•å®šä¹‰ï¼Œä¿è¯ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„åŒ…è£…å™¨ä¸ä¼šå’Œç”¨æˆ·çš„è‡ªå®šä¹‰å†…å®¹å†²çªã€‚

**ä»£ç åŒ…è£…å™¨çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š**

```python
def generate_wrapper(problem_definition):
    # è·å–é¢˜ç›®çš„å‡½æ•°ç­¾å
    function_signature = problem_definition["function_signature"]
    input_handling_code = problem_definition["input_handling_code"]
    output_format = problem_definition["output_format"]

    # ç”ŸæˆåŒ…è£…å™¨ä»£ç çš„æ¨¡æ¿
    wrapper_code_template = f"""
    import java.util.Scanner;

    public class Main {{
        public static void main(String[] args) {{
            {input_handling_code}

            // è°ƒç”¨ç”¨æˆ·çš„æ ¸å¿ƒä»£ç 
            Solution solution = new Solution();
            {function_signature}

            System.out.println("{output_format}");
        }}
    }}
    """
    return wrapper_code_template

```

è¿™æ ·æ ¸å¿ƒä»£ç æ¨¡å¼å’ŒACMæ¨¡å¼çš„é€‰æ‹©æƒäº¤åœ¨é¢˜ç›®åˆ›å»ºè€…æ‰‹ä¸Šã€‚ç”¨åˆ›å»ºè€…å…³ç³»ä»£ç çš„è¾“å…¥ã€è¾“å‡ºç­‰å‰åå¤„ç†ã€‚

æ ¹æ®ä¸Šè¿°æè¿°ï¼Œè‹¥è¦ä¿®æ”¹å…¼å®¹æ¨¡å¼ï¼Œéœ€è¦åœ¨é¢˜ç›®ä¿¡æ¯è¡¨æ·»åŠ å­—æ®µï¼š

| judgeType          | functionSignature                             | inputHandlingCode                                       | outputFormat                                            |
| ------------------ | --------------------------------------------- | ------------------------------------------------------- | ------------------------------------------------------- |
| acm, core, general | {"java":"add(int a int b)","cpp"........... } | {"java":"int a = scanner.nextInt();","cpp"........... } | {"java":"int a = scanner.nextInt();","cpp"........... } |

åœ¨åŒ…è£…å™¨åŒ…è£…ä¹‹åï¼Œå°±ç»Ÿä¸€æˆACMæ¨¡å¼äº†ï¼Œç”±ç³»ç»Ÿè´Ÿè´£è¾“å…¥è¾“å‡ºã€‚

PS. ç†è®ºä¸ŠåŒ…è£…å™¨å¯ä»¥ç›´æ¥å®Œæˆåˆ¤é¢˜å·¥ä½œï¼Œè®©ä»£ç æ²™ç®±åªè¿”å›Trueï¼Œ false

## 2. åˆ¤é¢˜æœåŠ¡æµç¨‹



## 3. JavaåŸç”Ÿä»£ç æ²™ç®±

æ ¸å¿ƒå®ç°æ€è·¯ï¼šç”¨ç¨‹åºä»£æ›¿äººå·¥ï¼Œç”¨ç¨‹åºæ¥æ“ä½œå‘½ä»¤è¡Œï¼Œå»ç¼–è¯‘æ‰§è¡Œä»£ç 

Java è¿›ç¨‹æ‰§è¡Œç®¡ç†ç±»  Process

```
1.æŠŠç”¨æˆ·çš„ä»£ç ä¿å­˜ä¸ºæ–‡ä»¶
2.ç¼–è¯‘ä»£ç ï¼Œå¾—åˆ° classæ–‡ä»¶
3.æ‰§è¡Œä»£ç ï¼Œå¾—åˆ°è¾“å‡ºç»“æœ
4.æ”¶é›†æ•´ç†è¾“å‡ºç»“æœ
5.æ–‡ä»¶æ¸…ç†ï¼Œé‡Šæ”¾ç©ºé—´
6.é”™è¯¯å¤„ç†ï¼Œæå‡ç¨‹åºå¥å£®æ€§
```

Java ç¼–è¯‘æ‰§è¡Œæµç¨‹

```shell
 javac -encoding utf-8 .\Main.java
 java -cp . Main 1 2
```

Javaä¸æ§åˆ¶å°äº¤äº’ `é‡è¦`

```java
package com.keriko.codesandbox.utils;

import cn.hutool.core.util.StrUtil;
import com.keriko.codesandbox.model.ExecuteMessage;
import org.apache.commons.lang3.StringUtils;
import org.springframework.util.StopWatch;

import java.io.*;
import java.util.ArrayList;
import java.util.List;

/**
 * è¿›ç¨‹å·¥å…·ç±»
 */
public class ProcessUtils {

    /**
     * æ‰§è¡Œè¿›ç¨‹å¹¶è·å–ä¿¡æ¯
     *
     * @param runProcess
     * @param opName
     * @return
     */
    public static ExecuteMessage runProcessAndGetMessage(Process runProcess, String opName) {
        ExecuteMessage executeMessage = new ExecuteMessage();

        try {
            StopWatch stopWatch = new StopWatch();
            stopWatch.start();
            // ç­‰å¾…ç¨‹åºæ‰§è¡Œï¼Œè·å–é”™è¯¯ç 
            int exitValue = runProcess.waitFor();
            executeMessage.setExitValue(exitValue);
            // æ­£å¸¸é€€å‡º
            if (exitValue == 0) {
                System.out.println(opName + "æˆåŠŸ");
                // åˆ†æ‰¹è·å–è¿›ç¨‹çš„æ­£å¸¸è¾“å‡º
                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(runProcess.getInputStream()));
                List<String> outputStrList = new ArrayList<>();
                // é€è¡Œè¯»å–
                String compileOutputLine;
                while ((compileOutputLine = bufferedReader.readLine()) != null) {
                    outputStrList.add(compileOutputLine);
                }
                executeMessage.setMessage(StringUtils.join(outputStrList, "\n"));
            } else {
                // å¼‚å¸¸é€€å‡º
                System.out.println(opName + "å¤±è´¥ï¼Œé”™è¯¯ç ï¼š " + exitValue);
                // åˆ†æ‰¹è·å–è¿›ç¨‹çš„æ­£å¸¸è¾“å‡º
                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(runProcess.getInputStream()));
                List<String> outputStrList = new ArrayList<>();
                // é€è¡Œè¯»å–
                String compileOutputLine;
                while ((compileOutputLine = bufferedReader.readLine()) != null) {
                    outputStrList.add(compileOutputLine);
                }
                executeMessage.setMessage(StringUtils.join(outputStrList, "\n"));

                // åˆ†æ‰¹è·å–è¿›ç¨‹çš„é”™è¯¯è¾“å‡º
                BufferedReader errorBufferedReader = new BufferedReader(new InputStreamReader(runProcess.getErrorStream()));
                // é€è¡Œè¯»å–
                List<String> errorOutputStrList = new ArrayList<>();
                // é€è¡Œè¯»å–
                String errorCompileOutputLine;
                while ((errorCompileOutputLine = errorBufferedReader.readLine()) != null) {
                    errorOutputStrList.add(errorCompileOutputLine);
                }
                executeMessage.setErrorMessage(StringUtils.join(errorOutputStrList, "\n"));
            }
            stopWatch.stop();
            executeMessage.setTime(stopWatch.getLastTaskTimeMillis());
        } catch (Exception e) {
            e.printStackTrace();
        }
        return executeMessage;
    }

    /**
     * æ‰§è¡Œäº¤äº’å¼è¿›ç¨‹å¹¶è·å–ä¿¡æ¯
     *
     * @param runProcess
     * @param args
     * @return
     */
    public static ExecuteMessage runInteractProcessAndGetMessage(Process runProcess, String args) {
        ExecuteMessage executeMessage = new ExecuteMessage();

        try {
            // å‘æ§åˆ¶å°è¾“å…¥ç¨‹åº
            OutputStream outputStream = runProcess.getOutputStream();
            OutputStreamWriter outputStreamWriter = new OutputStreamWriter(outputStream);
            String[] s = args.split(" ");
            String join = StrUtil.join("\n", s) + "\n";
            outputStreamWriter.write(join);
            // ç›¸å½“äºæŒ‰äº†å›è½¦ï¼Œæ‰§è¡Œè¾“å…¥çš„å‘é€
            outputStreamWriter.flush();

            // åˆ†æ‰¹è·å–è¿›ç¨‹çš„æ­£å¸¸è¾“å‡º
            InputStream inputStream = runProcess.getInputStream();
            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));
            StringBuilder compileOutputStringBuilder = new StringBuilder();
            // é€è¡Œè¯»å–
            String compileOutputLine;
            while ((compileOutputLine = bufferedReader.readLine()) != null) {
                compileOutputStringBuilder.append(compileOutputLine);
            }
            executeMessage.setMessage(compileOutputStringBuilder.toString());
            // è®°å¾—èµ„æºçš„é‡Šæ”¾ï¼Œå¦åˆ™ä¼šå¡æ­»
            outputStreamWriter.close();
            outputStream.close();
            inputStream.close();
            runProcess.destroy();
        } catch (Exception e) {
            e.printStackTrace();
        }
        return executeMessage;
    }
}

```

ç®€å•æµ‹è¯•ä¸€ä¸‹ï¼Œè·‘é€šä»£ç æ²™ç®±æµç¨‹

```java
//Main.java
import java.util.*;

public class Main
{
    public static void main(String[] args)
    {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int sum = 0;
        for (int i = 0; i < n; i++) {
            sum  += scanner.nextInt();
        }
        System.out.println("Sum:" + sum);
    }
}
```

```java
//simpleInputOutputTest.java
package com.keriko.codesandbox.utils;

import com.keriko.codesandbox.model.ExecuteMessage;
import com.keriko.codesandbox.utils.ProcessUtils;
import lombok.extern.slf4j.Slf4j;
import org.junit.jupiter.api.Test;

import java.io.File;
import java.io.IOException;

import static org.junit.jupiter.api.Assertions.assertEquals;

@Slf4j
public class simpleInputOutputTest {
    private static final String CODE_FILE = "Main";
    private static final String INPUT_ARGS = "3\n 1 2 3";
    private static final String OUTPUT_ARGS = "Sum:6";
    private static final String DIRECTORY = "E:\\Program\\CodeRace\\CodeRace_sandbox\\src\\UserCode\\";

    @Test
    public void test() {
        try {
            // Change directory
            changeDirectory(DIRECTORY);

            // Compile the code
            compileCode(CODE_FILE);

            // Run the code
            String output = runCode(CODE_FILE);

            // Validate output
            validateOutput(output, OUTPUT_ARGS);

        } catch (IOException e) {
            log.error("IO exception occurred: ", e);
        } catch (InterruptedException e) {
            log.error("Process was interrupted: ", e);
        }
    }

    /**
     * æ”¹å˜å·¥ä½œç›®å½•
     *
     * é€šè¿‡å¯åŠ¨å¤–éƒ¨å‘½ä»¤è¡Œå·¥å…·æ¥æ”¹å˜å½“å‰å·¥ä½œç›®å½•æ­¤æ–¹æ³•ä½¿ç”¨ProcessBuilderæ¥æ„å»ºå¹¶å¯åŠ¨å‘½ä»¤è¡Œè¿›ç¨‹ï¼Œä»¥ä¾¿æ”¹å˜ç›®å½•
     *
     * @param directory è¦æ”¹å˜åˆ°çš„æ–°ç›®å½•è·¯å¾„
     * @throws IOException å¦‚æœæ„å»ºæˆ–å¯åŠ¨è¿›ç¨‹æ—¶å‘ç”Ÿé”™è¯¯
     */
    private void changeDirectory(String directory) throws IOException {
        // è®°å½•è¦æ”¹å˜çš„ç›®å½•è·¯å¾„
        log.info("Changing directory to: {}", directory);

        // åˆ›å»ºProcessBuilderå®ä¾‹ï¼Œå‚æ•°ä¸ºcmd.exeå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºæ”¹å˜ç›®å½•
        // åªé€‚ç”¨äºåœ¨Windowsä¸‹æµ‹è¯•
        ProcessBuilder cdProcessBuilder = new ProcessBuilder("cmd.exe", "/c", "cd", directory);

        // è®¾ç½®ProcessBuilderçš„å·¥ä½œç›®å½•ä¸ºè¦æ”¹å˜åˆ°çš„æ–°ç›®å½•
        cdProcessBuilder.directory(new File(directory));

        // å¯åŠ¨å‘½ä»¤è¡Œè¿›ç¨‹ä»¥æ‰§è¡Œç›®å½•æ”¹å˜æ“ä½œ
        cdProcessBuilder.start();
    }

    /**
     * ç¼–è¯‘ç»™å®šä»£ç æ–‡ä»¶çš„Javaä»£ç 
     *
     * @param codeFile ä»£ç æ–‡ä»¶åï¼ˆä¸åŒ…æ‹¬æ‰©å±•åï¼‰, ç”¨äºæ„é€ ç¼–è¯‘å‘½ä»¤
     * @throws IOException å¦‚æœåˆ›å»ºæˆ–æ‰§è¡Œè¿›ç¨‹æ—¶å‘ç”ŸIOé”™è¯¯
     * @throws InterruptedException å¦‚æœåœ¨ç­‰å¾…è¿›ç¨‹æ‰§è¡Œæ—¶çº¿ç¨‹è¢«ä¸­æ–­
     */
    private void compileCode(String codeFile) throws IOException, InterruptedException {
        // æ„é€ ç¼–è¯‘å‘½ä»¤ï¼Œä½¿ç”¨utf-8ç¼–ç æ¥ç¡®ä¿ä¸­æ–‡ä»£ç æ–‡ä»¶å¯ä»¥è¢«æ­£ç¡®ç¼–è¯‘
        String compileCmd = String.format("javac -encoding utf-8 %s.java", codeFile);
        log.info("Compiling code with command: {}", compileCmd);

        // ä½¿ç”¨ProcessBuilderæ¥æ„å»ºç¼–è¯‘å‘½ä»¤çš„æ‰§è¡Œç¯å¢ƒ
        ProcessBuilder compileProcessBuilder = new ProcessBuilder("cmd.exe", "/c", compileCmd);
        // è®¾ç½®ç¼–è¯‘å‘½ä»¤çš„æ‰§è¡Œç›®å½•ä¸ºç³»ç»ŸæŒ‡å®šçš„ä¸´æ—¶ç›®å½•
        compileProcessBuilder.directory(new File(DIRECTORY));
        // å¯åŠ¨ç¼–è¯‘è¿›ç¨‹
        Process compileProcess = compileProcessBuilder.start();

        // è¿è¡Œç¼–è¯‘è¿›ç¨‹å¹¶è·å–è¾“å‡ºä¿¡æ¯
        ExecuteMessage compileMessage = ProcessUtils.runProcessAndGetMessage(compileProcess, "Compilation");
        // è®°å½•ç¼–è¯‘ä¿¡æ¯
        log.info(compileMessage.toString());
    }

    /**
     * è¿è¡Œç»™å®šçš„Javaä»£ç æ–‡ä»¶
     *
     * è¯¥æ–¹æ³•ä½¿ç”¨æŒ‡å®šçš„ç±»è·¯å¾„å’Œå†…å­˜é™åˆ¶é€šè¿‡cmd.exeæ¥æ‰§è¡ŒJavaä»£ç å®ƒè¿˜è®°å½•äº†è¿è¡Œå‘½ä»¤ï¼Œ
     * å¹¶åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸è¿›ç¨‹äº¤äº’ï¼Œè·å–å¹¶è®°å½•è¾“å‡ºä¿¡æ¯
     *
     * @param codeFile è¦è¿è¡Œçš„Javaä»£ç æ–‡ä»¶å
     * @return è¿è¡Œåè·å–çš„æ¶ˆæ¯å­—ç¬¦ä¸²
     * @throws IOException å½“åˆ›å»ºæˆ–å¯åŠ¨è¿›ç¨‹æ—¶å‘ç”ŸIOé”™è¯¯
     * @throws InterruptedException å½“çº¿ç¨‹è¢«ä¸­æ–­æ—¶
     */
    private String runCode(String codeFile) throws IOException, InterruptedException {
        // æ ¼å¼åŒ–å‘½ä»¤è¡Œå‘½ä»¤ï¼ŒæŒ‡å®šJavaè¿è¡Œæ—¶çš„æœ€å¤§å †å†…å­˜ä¸º256mï¼Œå¹¶æŒ‡å®šç±»è·¯å¾„ä¸ºå½“å‰ç›®å½•ï¼Œ
        // å‡†å¤‡è¿è¡Œçš„ç±»åä¸ºcodeFileå‚æ•°
        String runCmd = String.format("java -Xmx256m -cp . %s", codeFile);
        // è®°å½•å³å°†æ‰§è¡Œçš„å‘½ä»¤
        log.info("Running code with command: {}", runCmd);

        // åˆ›å»ºProcessBuilderå®ä¾‹ï¼Œä½¿ç”¨cmd.exeæ¥æ‰§è¡Œæ ¼å¼åŒ–åçš„Javaå‘½ä»¤
        // ä½¿ç”¨cmd.exe /c æ¥åœ¨Windowså‘½ä»¤æç¤ºç¬¦ä¸‹æ‰§è¡Œå‘½ä»¤
        ProcessBuilder runProcessBuilder = new ProcessBuilder("cmd.exe", "/c", runCmd);
        // è®¾ç½®è¿›ç¨‹çš„æ‰§è¡Œç›®å½•ä¸ºä»£ç ä¸­çš„DIRECTORYå¸¸é‡æŒ‡å®šçš„ç›®å½•
        runProcessBuilder.directory(new File(DIRECTORY));
        // å¯åŠ¨è¿›ç¨‹
        Process runProcess = runProcessBuilder.start();

        // ä½¿ç”¨å·¥å…·ç±»ProcessUtilsè¿è¡Œè¿›ç¨‹å¹¶ä¸ä¹‹äº¤äº’ï¼Œè·å–è¿›ç¨‹çš„è¾“å‡ºä¿¡æ¯
        // INPUT_ARGSä¸ºä¸è¿›ç¨‹äº¤äº’çš„è¾“å…¥å‚æ•°
        ExecuteMessage runMessage = ProcessUtils.runInteractProcessAndGetMessage(runProcess, INPUT_ARGS);
        // è®°å½•è¿›ç¨‹çš„è¾“å‡ºä¿¡æ¯
        log.info(runMessage.toString());
        // è¿”å›è¿›ç¨‹çš„è¾“å‡ºæ¶ˆæ¯
        return runMessage.getMessage();
    }

    @Test
    private void validateOutput(String actualOutput, String expectedOutput) {
        if (!actualOutput.equals(expectedOutput)) {
            log.error("Output is incorrect. Expected: {} but got: {}", expectedOutput, actualOutput);
        } else {
            System.out.println("Output is correct: \n" + actualOutput);
            log.info("Output is correct: {}", actualOutput);
        }
        // æ–­è¨€éªŒè¯
        assertEquals(expectedOutput, actualOutput);
    }
}
```

![å‘½ä»¤è¡Œè¾“å…¥æµ‹è¯•å›¾ç‰‡](assets/img1.png)

è¸©å‘ç‚¹ï¼š
è‡ªè¡Œç¼–è¯‘çš„ä»£ç æ–‡ä»¶ä¸èƒ½æ”¾åˆ°mainï¼Œtestç­‰åŒ…å†…ã€‚åŠ äº†packageå°±æ— æ³•æ‰¾åˆ°ä¸»ç±»ã€‚

æµ‹è¯•ä»£ç æ–‡ä»¶å°½é‡å«`Main.java`
